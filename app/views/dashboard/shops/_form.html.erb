<div class="modal-dialog modal-shop">
  <div class="modal-content">
    <div class="modal-header modal_header">
      <button class="close" data-dismiss="modal">&times;</button>
      <h4 class="modal-title modal_text_header">
        <%= t "dashboard.shops.edit.title" %>
      </h4>
    </div>
    <div class="modal-body">
      <%= form_for [:dashboard, @shop], html: {class: "form-shop"} do |f| %>
        <div class="row">
          <div class="col-xs-12">
            <div class="form-group relative">
              <% Shop::CROP_COVER.each do |attr| %>
                <%= f.hidden_field attr.to_sym, id: "shop_#{attr}" %>
              <% end %>
              <%= f.label :cover_image, t("owners_shop_cover_image") %>
              <%= image_tag @shop.cover_image.url, class: "cover-image-shop img_cover_crop", id: "img_shop_cover" %>
              <%= f.file_field :cover_image, accept: Settings.pictures.accepted_files,
                class: "upload-cover-image-shop hidden-file", id: "shop_cover" %>
              <%= link_to "javascript:void(0)", class: "choose-cover-image-shop" do %>
                <i class="material-icons">camera_enhance</i>
                <label class="margin-bottom-0">
                  <%= t "update_cover_image" %>
                </label>
              <% end %>
            </div>
          </div>
          <div class="col-xs-5 padding-right-0">
            <div class="form-group relative">
              <% Shop::CROP_SHOP_AVATAR.each do |attr| %>
                <%= f.hidden_field attr.to_sym, id: "shop_#{attr}" %>
              <% end %>
              <%= f.label :avatar, t("owners_shop_avatar") %>
              <%= image_tag @shop.avatar.url,class: "avatar-shop img_shop_avatar" %>
              <%= f.file_field :avatar, accept: Settings.pictures.accepted_files,
                class: "upload-avatar-shop hidden-file", id: "shop_avatar" %>
              <%= link_to "javascript:void(0)", class: "choose-avatar-shop" do %>
                <i class="material-icons">camera_enhance</i>
                <label class="margin-bottom-0">
                  <%= t "update_image_avatar" %>
                </label>
              <% end %>
            </div>
          </div>
          <div class="col-xs-7">
            <div class="form-group">
              <%= f.label :name do %>
                <%= t "request_shop.shop_name" %>
                <span class="color-red">*</span>
              <% end %>
              <%= f.text_field :name, placeholder: t("request_shop.shop_name"),
                class: "form-control" %>
            </div>
            <div class="form-group">
              <%= f.label :description do %>
                <%= t "description" %>
                <span class="color-red">*</span>
              <% end %>
              <%= f.text_area :description, placeholder: t("description"),
                class: "form-control content_note" %>
            </div>
            <div class="row">
              <div class="col-xs-6 form-group margin-bottom-0 line-height-55">
                <%= f.check_box :openforever, class: "display-none" %>
                <%= f.label :openforever, class: "label-checkbox" do %>
                  <%= t "open_shop_forever" %><span></span>
                <% end %>
              </div>
              <div class="col-xs-6 form-group time_auto_close_shop center
                margin-bottom-0 <%= @shop.openforever ? "display-none" : "" %>">
                <%= f.label :time_auto_close, t("time_auto_close_shop") %>
                <br>
                <%= f.time_select :time_auto_close, {}, class: "intime-field" %>
              </div>
            </div>
            <div class="row time-open-close-function-open-forever
              <%= @shop.openforever ? "" : "display-none" %>">
              <div class="col-xs-6 form-group margin-bottom-0">
                <%= f.label :time_open, t("time_open_forever") %>
                <br>
                <%= f.time_select :time_open, {}, class: "intime-field" %>
              </div>
              <div class="col-xs-6 form-group center margin-bottom-0">
                <%= f.label :time_close, t("time_close_forever") %>
                <br>
                <%= f.time_select :time_close, {}, class: "intime-field" %>
              </div>
            </div>
            <div class="form-group">
              <%= f.label :time_auto_reject, t("time_auto_reject_order") %>
              <div class="time-field">
                <%= f.time_select :time_auto_reject,
                  {minute_step: Settings.minute_step}, class: "intime-field" %>
              </div>
            </div>
          </div>
          <div class="col-xs-12 button-group-form">
            <button type="button" class="btn btn-default form-button"
              data-dismiss="modal">
              <%= t "cancel" %>
            </button>
            <%= f.submit t("shops.new.submit_button"),
              class: "btn btn_add_to_cart btn-add form-button" %>
          </div>
        </div>
      <% end %>
      <div id="crop_cover_popup" class="mfp-hide" style="display:none;">
        <div id="popup">
          <h2>Crop Cover</h2>
          <div class="crop_image">
            <img src="" id="shop_cover_crop" style="max-width: 100%;">
            <%= submit_tag "Crop", id: "submit_crop" %>
          </div>
        </div>
      </div>
      <div id="crop_avatar_shop" class="mfp-hide" style="display:none;">
        <div id="popup">
          <h2>Crop avatar</h2>
          <div class="crop_image">
            <img src="" id="shop_avatar_crop" style="max-width: 100%;">
            <%= submit_tag "Crop", id: "submit_crop" %>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
